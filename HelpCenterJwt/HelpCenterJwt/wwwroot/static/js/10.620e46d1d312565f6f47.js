webpackJsonp([10],{"DM+h":function(t,e){},cjeC:function(t,e){},xHuF:function(t,e,a){"use strict";var o={props:{value:{required:!0}},mounted:function(){this.loadSelectData()},components:{},data:function(){return{role:[],currentValue:this.value}},computed:{},methods:{onChange:function(t){this.$emit("input",t)},loadSelectData:function(){var t=this;this.$axios.get("api/Role/getAllList").then(function(e){e.data.result?(t.role=e.data.data,console.log(t.role)):t.$message.info(e.data.tips)}).catch(function(t){console.log("下拉框异常"),console.log(t)})}},watch:{value:function(t){this.currentValue=t}},filters:{},beforeDestroy:function(){}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{attrs:{multiple:"",placeholder:"请选择角色"},on:{change:t.onChange},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}},t._l(t.role,function(t){return a("el-option",{key:t.roleId,attrs:{label:t.roleName,value:t.roleId}})}),1)},staticRenderFns:[]};var n=a("C7Lr")(o,l,!1,function(t){a("DM+h")},"data-v-255fd9cf",null);e.a=n.exports},zUSL:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("lC5x"),l=a.n(o),n=a("J0Oq"),i=a.n(n),r=a("4YfN"),c=a.n(r),s=a("92M0"),d=a("oweW"),u=a("Q+Tu"),f=a("9rMa"),m=a("xHuF"),p=a("8Fwj"),h={name:"docListOperateView",data:function(){return{deptIdData:"",docTypeIdData:"",selectValue:null,selectSortValue:null,loading:!0,options:[],docUpLoad:"",optionsSort:[],normalizer:function(t){return{id:t.deptId,label:t.deptName,children:t.child}},normalizerSort:function(t){return{id:t.deptId,label:t.deptName,children:t.child}},value:"",value1:"",form:{viewRoleList:[],editRoleList:[]},docContent:"",departMsg:"",cateMsg:""}},created:function(){this.id=this.$route.query.id,this.loadData()},mounted:function(){},components:{xyDocEdit:s.a,xyDepartTreeSelect:d.a,xyCategoryTreeSelect:u.a,xyRoleSelect:p.a,xyRoleSelectEdit:m.a},computed:c()({},Object(f.b)({tagIndex:"SET_MSGTAG"})),methods:{getViewRole:function(t){this.form.viewRoleList=t},getEditRole:function(t){this.form.editRoleList=t},getTreeSelectData:function(t){this.deptIdData=t},getCateTSData:function(t){this.docTypeIdData=t},docEditor:function(t){this.docContent=t,this.form.docContent=t},docEditorText:function(t){this.form.docFullText=t},handleSuccess:function(t,e){this.docUpLoad=t.data,this.fileList=[]},handleChange:function(){var t=this;return i()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.upload.submit();case 1:case"end":return e.stop()}},e,t)}))()},loadData:function(){var t=this;this.$axios.get("/api/HelpDoc",{params:{helpDocId:this.id}}).then(function(e){e.data.result?(t.form=e.data.data,t.departMsg=e.data.data.docDeptId,t.cateMsg=e.data.data.docTypeId,t.docContent=e.data.data.docContent,t.docUpLoad=e.data.data.docAttachment):t.$message.error(e.data.tips)})},cancel:function(){this.$bus.$emit("closeTags",this.tagIndex),this.$router.push("./docList")}},watch:{},deactivated:function(){this.$destroy()}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"doc-list-operate"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-setting"}),t._v("文档管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("文档详情查看")])],1)],1),t._v(" "),a("div",{staticClass:"container"},[a("el-form",{ref:"form",attrs:{"label-width":"70px",model:t.form}},[a("el-form-item",{attrs:{label:"排序号",prop:"docNum"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.form.docNum,callback:function(e){t.$set(t.form,"docNum",e)},expression:"form.docNum"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分类名称"}},[a("xy-category-tree-select",{attrs:{cateMsg:t.cateMsg},on:{cateDTSelect:t.getCateTSData}})],1),t._v(" "),a("el-form-item",{attrs:{label:"文档名称",prop:"docTitle"}},[a("el-input",{attrs:{placeholder:"安卓设备管理",disabled:!0},model:{value:t.form.docTitle,callback:function(e){t.$set(t.form,"docTitle",e)},expression:"form.docTitle"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"归属部门"}},[a("xy-depart-tree-select",{attrs:{departMsg:t.departMsg},on:{transferDTSelect:t.getTreeSelectData}})],1),t._v(" "),a("el-form-item",{attrs:{label:"查看权限",prop:"viewRoleList"}},[a("xy-role-select",{attrs:{value:t.form.viewRoleList},on:{input:t.getViewRole}})],1),t._v(" "),a("el-form-item",{attrs:{label:"编辑权限",prop:"viewRoleList"}},[a("xy-role-select-edit",{attrs:{value:t.form.editRoleList},on:{input:t.getEditRole}})],1),t._v(" "),a("el-form-item",{attrs:{label:"游客查看"}},[a("el-switch",{attrs:{disabled:!0},model:{value:t.form.isDefaultRole,callback:function(e){t.$set(t.form,"isDefaultRole",e)},expression:"form.isDefaultRole"}})],1),t._v(" "),a("div",{staticClass:"doc-edit-box"},[a("label",[t._v("文档内容")]),t._v(" "),a("xy-doc-edit",{attrs:{docContent:t.docContent},on:{docEditor:t.docEditor,docEditorText:t.docEditorText},model:{value:t.form.docContent,callback:function(e){t.$set(t.form,"docContent",e)},expression:"form.docContent"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"文档上传"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"api/File",multiple:"",limit:3,"auto-upload":!1,"on-change":t.handleChange,"on-success":t.handleSuccess}},[a("el-button",{attrs:{type:"primary"}},[t._v("选择文件")])],1)],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"right"}},[a("el-button",{staticStyle:{width:"150px"},attrs:{type:"info"},on:{click:t.cancel}},[t._v("退出")])],1)],1)],1)])},staticRenderFns:[]};var g=a("C7Lr")(h,v,!1,function(t){a("cjeC")},null,null);e.default=g.exports}});