webpackJsonp([8],{"1QZL":function(t,e){},"99dn":function(t,e){},JztN:function(t,e){},RiIv:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={mounted:function(){this.loadData()},data:function(){return{treeData:[],defaultProps:{children:"child",label:"docTypeName",isLeaf:"isLeaf"}}},props:{},methods:{loadData:function(){var t=this;this.$axios.get("api/DocTypeConfig/toplist").then(function(e){t.treeData=e.data.data}).catch(function(t){console.log(t)})},loadChild:function(t,e){if(t.parent)if(t.data.child&&0!==t.data.child.length)e(t.data.child);else{var a=this,o={docTypeId:t.data.docTypeId};a.$axios.get("api/DocTypeConfig",{params:o}).then(function(t){0==t.result?a.$message.error(t.tips):e(t.data.data.childNodes)}).catch(function(t){console.log(t)})}},handleNodeClick:function(t,e,a){this.crUsrId=t.crUsrId,this.$emit("nodeClick",t,e,a)}}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-tree",{ref:"tree",attrs:{data:this.treeData,props:this.defaultProps,lazy:"",load:this.loadChild},on:{"node-click":this.handleNodeClick}})],1)},staticRenderFns:[]};var n={mounted:function(){this.dlAllLoadData()},props:{modifyVisible:"",docListKey:"",strDocTypeId:""},components:{},data:function(){return{tableData:[],emptyText:"暂无数据",currentPage:1,pageTotal:0,pageSize:10,judgePage:0,parameterKey:"",parameterJudge:0}},computed:{rowClass:function(){return{height:"20px"}}},methods:{dlAllLoadData:function(t,e,a){var o=this,i=void 0;o.judgePage=void 0==e?0:e,o.currentPage=void 0==a?o.currentPage:a,0==o.judgePage?(i={url:"/api/HelpDoc/pagelist",params:{pageIndex:o.currentPage,rowCount:o.pageSize}},o.parameterKey="",o.parameterJudge=0):1==o.judgePage?(i={url:"api/HelpDoc/pagelist",params:{rowCount:o.pageSize,pageIndex:o.currentPage,keyword:t}},o.parameterKey=t,o.parameterJudge=1):2==o.judgePage&&(i={url:"api/HelpDoc/doctypeid",params:{rowCount:o.pageSize,pageIndex:o.currentPage,docTypeId:t}},o.parameterKey=t,o.parameterJudge=2),o.$axios.get(i.url,{params:i.params}).then(function(t){t.data.result?(o.tableData=t.data.data.info,o.pageTotal=t.data.data.totalCount):o.$message.error(t.data.tips)})},loadData:function(t){},searchData:function(){},searchDataTree:function(t){},handleCurrentChange:function(t){this.currentPage=t,this.dlAllLoadData(this.parameterKey,this.parameterJudge)},DltView:function(t){this.$router.push({path:"/docListOperateView",query:{id:t.docId}})},DltModify:function(t){this.$router.push({path:"/docListOperateModify",query:{id:t.docId}})},handleDelete:function(t){this.$emit("delDocList",t)}},watch:{},beforeDestroy:function(){}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"doc-list-table"},[a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:"","empty-text":t.emptyText,"row-style":t.rowClass}},[a("el-table-column",{attrs:{prop:"docTypeName",label:"文档分类",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"docDeptName",label:"文档所属部门",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"docTitle",label:"文档标题",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"docFullText",label:"文档纯文字内容",align:"center","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"docNum",label:"文档排序号码",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"docCount",label:"点击数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"280",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.DltView(e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.editRole,expression:"scope.row.editRole"}],attrs:{type:"text"},on:{click:function(a){t.DltModify(e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.editRole,expression:"scope.row.editRole"}],staticClass:"red",attrs:{type:"text"},on:{click:function(a){t.handleDelete(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.pageTotal},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)],1)},staticRenderFns:[]};var r={name:"sortSetting",data:function(){return{modifyVisible:!1,delVisible:!1,docListKey:""}},mounted:function(){var t=this;this.$bus.$on("DocListOperateAdd",function(){t.$refs.unitTable.loadData()})},components:{xyDocListTree:a("C7Lr")(o,i,!1,function(t){a("99dn")},"data-v-e231b6b0",null).exports,xyDocListTable:a("C7Lr")(n,l,!1,function(t){a("JztN")},"data-v-b335360e",null).exports},computed:{data:function(){}},methods:{DocListloadData:function(){this.$refs.unitTable.dlAllLoadData("",0,1),this.docListKey=""},docListSearch:function(){this.$refs.unitTable.dlAllLoadData(this.docListKey,1,1)},nodeClickHandle:function(t,e,a){this.$refs.unitTable.dlAllLoadData(t.docTypeId,2,1)},addHandle:function(){this.$router.push({path:"/docListOperateAdd"})},modifyVisibleFun:function(t){console.log("父元素"),console.log(t),this.modifyVisible=t},delDocList:function(t){var e=this,a=this;this.$confirm("您真的删除【"+t.docTitle+"】吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios.delete("/api/HelpDoc",{params:{helpDocId:t.docId}}).then(function(t){!1===t.data.result?e.$message.error(t.data.tips):(e.$message({message:t.data.tips,type:"success"}),e.$refs.unitTable.loadData())})}).catch(function(){})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-setting"}),t._v("文档管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("文档列表")])],1)],1),t._v(" "),a("div",{staticClass:"container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-container",{staticStyle:{"max-height":"636px"}},[a("el-main",[a("el-scrollbar",{staticClass:"custom-scrollbar",staticStyle:{"min-height":"587px"}},[a("xy-doc-list-tree",{ref:"unitTree",attrs:{checkStrictly:!0},on:{nodeClick:t.nodeClickHandle}})],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:19}},[a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"handle-box-add",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:t.addHandle}},[t._v("\n                        添加\n                    ")]),t._v(" "),a("div",{staticClass:"handle-search-box"},[a("span",[t._v("文档名称:")]),t._v(" "),a("el-input",{staticClass:"search",attrs:{size:"small",clearable:"",placeholder:"请输入关键字进行搜索"},on:{clear:t.DocListloadData},model:{value:t.docListKey,callback:function(e){t.docListKey=e},expression:"docListKey"}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.docListSearch}},[t._v("搜索")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.DocListloadData}},[t._v("重置")])],1)],1),t._v(" "),a("xy-doc-list-table",{ref:"unitTable",attrs:{docListKey:t.docListKey,modifyVisible:t.modifyVisible},on:{delDocList:t.delDocList,modifyVisibleChange:function(e){t.modifyVisibleFun(e)}}})],1)],1)],1)])},staticRenderFns:[]};var c=a("C7Lr")(r,s,!1,function(t){a("1QZL")},"data-v-55e8a1ec",null);e.default=c.exports}});